<!DOCTYPE html>
<html lang="en">
<head>
<meta charset='utf-8'/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Queue Tree Script Generator For Mikrotik Plus Bandwidth Shared (UpTo) - BuanaNETPBun.Github.io</title>
<meta content='Queue Tree Script Generator For Mikrotik - BuanaNETPBun.Github.io' name='description'/>
<meta content='script generator, mikrotik, router, winbox, termimal, rsc, script, hotspot, wireless, rtrwnet' name='keywords'/>
<meta content='index, follow, noodp' name='robots'/>
<link rel="shortcut icon" href="https://www.o-om.com/favicon.ico" type="image/x-icon"> 
<script data-ad-client="ca-pub-9740800920365268" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>	
<style>

/* --------------------------------------------
####################################################################
# Mikrotik Queue Tree Script Generator Plus Bandwidth Shared (UpTo)
# Date/Time : 11/8/2020, 12:10:14 AM
# Designer  : Agus Ramadhani / BuanaNET
# Version   : v1.0 Beta
# Github	: BuanaNETPBun.Github.io
# Site      : http://www.o-om.com
# Sosmed    : https://fb.me/buananet.pbun	
####################################################################
----------------------------------------------- */  
*{-webkit-transition: all .3s ease-in;-moz-transition: all .3s ease-in;-ms-transition: all .3s ease-in;transition: all .3s ease-in;}
body, div, span, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, form, fieldset, textarea, p, blockquote, th, td, tr, table{margin:0; padding:0}
body { font-size:16px; font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin:20px;}
html, body {
height: 100%;
width:100%;
margin-top: 0px;
padding:0;
}
* {
box-sizing: border-box;
}
.logo {
margin-top:30px; 
color: #111;
text-decoration:none;
font-size:27px;
font-weight:bold; 
}	
.logo a{
color:#111 !important;
text-decoration:none !important;
}
.Menu{
width:100%;
border-bottom:1px solid #ccc;
height:100%;
padding-bottom: 15px;
margin-bottom: 20px;
font-size:14px;
font-weight:bold;
}
#wrap{
width:1220px;
margin:0 auto;
padding:10px;
background:#fff
}
.header{
height:auto; 
width:100%;
margin-top:0px;
margin-bottom:10px;
border-top:1px solid #ccc;
}
.main-wrap{
display: flex;
}   
.content{
flex:1;
float:right;
width:800px;
padding: 10px;
border-top:1px solid #bbb;
border-bottom:1px solid #bbb;
border-right:1px solid #bbb;
background:#ddd;
}
.sidebar{
float:left;
width:400px;
Padding-top:8px;
padding-left: 10px;
Padding-right:10px;
Padding-bottom:20px;
background-color:#ddd;
border:1px solid #bbb; 
height:auto;
}
.footer{
padding-top:15px;
text-align:center;
clear:both;
width:auto;
}

h1 {
color:#111;
font-size:22px;
margin-bottom:10px;
margin-top:10px;
}
a:link {
color: #ff6600;
}
a:visited {
color: #ff6600;
}
a:hover {
color: #ff6600;
}
a:active {
color: #ff6600;
}
.menu {
clear:both;
width:auto;
padding-bottom:13px;
}
.menu1 {
width:360px;
margin-bottom:1px;
font-weight:bold;
background-color:#4CAF50;
padding:6px;
color:white;
display: inline-block;
margin:0;
}
.menu1 a:link {
text-decoration:none;
color:white;
}
.menu1 a:visited{
text-decoration:none;
color:white;
}
.menu2 {
width:300px;
margin-bottom:1px;
font-weight:bold;
background-color:#bbb;
padding:6px;
color:white;
display: inline-block;
margin:0;
}
.menu2 a:link{
text-decoration:none;
color:white;
}
.menu2 a:visited{
text-decoration:none;
color:white;
}
button {
color: #fff;
background-color: #ff6600;
border-color: #ff6600;
border:none;
padding:8px;
width:177px;
font-size:16px;
font-weight:bold;
}
.row:after {
content: "";
display: table;
clear: both;
}  
input[type=checkbox]{
 margin-right:7px; 
}
input[type=text], select, textarea {
width: 100%;
padding: 5px;
border: 1px solid #bbb;
border-radius: 1px;
resize: vertical;
margin-bottom:12px;
font-size:16px !important;
}
label {
padding: 5px 5px 5px 0;
display: inline-block;
}
input[type=submit] {
background-color: #ff6600;
color: white;
padding: 12px 20px;
border: none;
border-radius: 1px;
cursor: pointer;
float: right;
}
input[type=submit]:hover {
background-color: #45a049;
}
.col-25 {
float: left;
width: 25%;
margin-top: 6px;
}
.col-75 {
float: left;
width: 75%;
margin-top: 6px;
}
/* Clear floats after the columns */
.row:after {
content: "";
display: table;
clear: both;
}
.list-game {
height: 200px;
background:white;
overflow: scroll;
overflow-x: hidden;
width: 100%;
margin-top:2px;
padding: 3px;
border: 1px solid rgba(0,0,0,0.25);
}
.list-game label {
padding: 0;
display: inline-block;
} 
.list-mangle {
height: 576px;
background:#fff;
overflow: scroll;
width: 100%;
padding: 4px;
margin-top:8px;
border: 1px solid #ccc;
}
table, tr, td {
border: none;
}
#CbiJvKRogXqD {
z-index:99;
display: none;
background: #000;
text-align: center;
font-weight: bold;
color: #fff;
font-size: 4.0vw;
position: fixed;
width: 100%;
height: 100%;
top:0;
left:0;
opacity: 0.7;
padding:150px;
}
</style>
</head>
<body>
<div id="CbiJvKRogXqD">
PLEASE DISABLE YOUR AD BLOCKER FOR SUPPORT THIS SITE! THANKS :)
</div>
<div id="wrap">
<div class="logo">	  
<a href="https://buananetpbun.github.io"><span style="color:#ff6600 !important">BuanaNETPBun</span>.Github.io</a> <img style="float:right; padding-top:10px" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fbuananetpbun.github.io%2F&count_bg=%23C83D3D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false" alt="Hits"/>
</div>	
<div class="header">
<span style="float:left; display:inline;margin-right:6px; margin-top:10px">
<a href="https://buananetpbun.github.io/queue-tree-generator-shared.html"><img src="https://buananetpbun.github.io/mikrotik/img/logo.png" alt="HOME"></a>
</span>
<h1>QUEUE TREE SCRIPT GENERATOR MIKROTIK + BANDWIDTH SHARED (UPTO) - FOR IP SUBNET /24 ONLY</h1>
</div>
<div class="main-wrap">
    <div class="sidebar">
		<div style="margin-bottom:10px; height:190px">
		 <label>Parent Name Queue</label><div style="clear: both;"></div>
         <input type="text" id="input-parent" value="Global-Connection" placeholder="Global-Connection">
		 <div style="float:left; width:180px;">
		 <label>Sub Queue Upload</label><div style="clear: both;"></div>
         <input type="text" id="input-up-sub-parent" value="Upload" placeholder="Upload">
		 </div>
		 <div style="float:left; width:180px;margin-left:10px">
         <label>Sub Queue Download</label><div style="clear: both;"></div>
         <input type="text" id="input-down-sub-parent" value="Download" placeholder="Download">
		 </div>
		 <div style="float:left; width:180px;">
		 <label>Upload Max-Limit</label><div style="clear: both;"></div>
         <input onkeydown="upperCaseF(this)" type="text" id="input-up-parent" value="5M" placeholder="5M">
		 </div>
		 <div style="float:left; width:180px;margin-left:10px">
         <label>Download Max-Limit</label><div style="clear: both;"></div>
         <input onkeydown="upperCaseF(this)" type="text" id="input-down-parent" value="10M" placeholder="10M">
		 </div>
		 </div>
		 <div style="clear: both;"></div>
         <div style="margin-top:10px;margin-bottom:10px;border-bottom:1px solid #bbb">Sub Parent Queue / Child Queue</div>
		 <div style="float:left;width:180px;">
		 <label>Client Name Queue</label><div style="clear: both;"></div>
         <input type="text" id="input-client" value="Client-" placeholder="Client-">
		 </div>
		 <div style="float:left;width:180px;margin-left:10px;">
		 <label>Client Identity</label>
         <input type="text" id="input-client-initial" value="1" placeholder="1">
		 </div>
     	  <div style="float:left; width:180px;">
		 <label>Start IP Client</label><div style="clear: both;"></div>
         <input type="text" id="input-start-ip-client" value="192.168.88.10" placeholder="192.168.88.10">
		 </div>
		 <div style="float:left; width:180px;margin-left:10px;">
         <label>End IP Client</label><div style="clear: both;"></div>
         <input type="text" id="input-end-ip-client" value="192.168.88.20" placeholder="192.168.88.20">
		 </div>
     	 <div style="float:left; width:180px;">
		 <label>Upload Max-Limit</label><div style="clear: both;"></div>
         <input onkeydown="upperCaseF(this)" type="text" id="input-up-client" value="512K" placeholder="512K">
		 </div>
		 <div style="float:left; width:180px;margin-left:10px;">
         <label>Download Max-Limit</label><div style="clear: both;"></div>
         <input onkeydown="upperCaseF(this)" type="text" id="input-down-client" value="1M" placeholder="1M">
		 </div>
		 <div style="margin-bottom:10px; height:220px">
		 <div style="float:left; width:180px;">
		 <label>Upload Limit-At</label><div style="clear: both;"></div>
         <input onkeydown="upperCaseF(this)" type="text" id="input-limit-up" value="0" placeholder="0">
		 </div>
		 <div style="float:left; width:180px;margin-left:10px;">
         <label>Download Limit-At</label><div style="clear: both;"></div>
         <input onkeydown="upperCaseF(this)" type="text" id="input-limit-down" value="0" placeholder="0">
		 </div>

		 </div>
	<div style="margin-top:20px;margin-bottom:0px">
	 <input type="checkbox" id="auto-shared"><label for="auto-shared" style="padding-left:0px">Auto Set For Bandwidth Shared (UP-TO)</label><div style="clear: both;"></div>

         
	 </div>
         <button style="margin-top:20px;" type="button" onclick="myFunctionInput()">Generate Script</button> <button style="margin-left:10px" type="button" onclick="location.reload()">Clear All Script</button> 
         <div style="clear: both;"></div>
    </div>
    <div class="content"> 
        <span style="margin-left:2px">Script Generator Result</span>
         <div class="list-mangle">
		 <div style="width:100%; height:90px; margin-top:10px; margin-left:10px; margin-bottom:5px;">	
			<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- MIKROTIK SCRIPT DB3 -->
			<ins class="adsbygoogle"
			style="display:inline-block;width:728px;height:90px"
			data-ad-client="ca-pub-9740800920365268"
			data-ad-slot="4637807296"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script> 
		</div>
            <table id="showScript" style="padding:5px; white-space: nowrap;">
               <tr>
                  <td>
                     <span style="color:#ff6600;">
                     ####################################################################<br>
                     # Queue Tree Script Generator For Mikrotik + Bandwidth Shared (UpTo)<br>
                     # Date/Time: <span id="tanggalwaktu"></span><br>
                     # By BuanaNETPBun.Github.io + https://fb.me/buananet.pbun<br>
                     ####################################################################<br><br>
                     </span>
					 <div id="list-output"></div>
				</td>
				</tr>			
			</table>
         </div>
         <br>
         <button style="margin-top:-5px" id="copyscript" type="button" onclick="selectElementContents(document.getElementById('showScript'))">Copy Script</button><span style="padding:7px; font-weight:normal;margin-left:10px"><b>Copy-Paste the Script into the Terminal!</b></span>
    </div>
</div>	
   <div class="footer">
Copyright 2021 <a href="https://buananetpbun.github.io/">BuanaNETPbun.github.io</a> is proudly powered by <a href="https://pages.github.com/">GitHub Pages</a> - <a href="https://github.com/buananetpbun">Follow My Github</a>
   </div>
 </div>
 <script src="///buananetpbun.github.io/ad-blocker.js" type="text/javascript"></script>
<script type="text/javascript">
if(!document.getElementById('mlpBOSegoXEu')){
  document.getElementById('CbiJvKRogXqD').style.display='block';
}
</script>
     <script>  
		var dt = new Date();
        document.getElementById("tanggalwaktu").innerHTML = dt.toLocaleString();

		function upperCaseF(a){
			setTimeout(function(){
				a.value = a.value.toUpperCase();
			}, 1);
		}

		function resultToFixed(x) {
		  return Number.parseFloat(x).toFixed(2);
		}

		document.getElementById('auto-shared').onchange = function() {
		var MyScriptShared = document.getElementById("auto-shared");
            if ( MyScriptShared.checked ) {
			var InputStartIpClient = document.getElementById("input-start-ip-client").value;
			var InputEndIpClient = document.getElementById("input-end-ip-client").value;
			var InputUpParent = document.getElementById("input-up-parent").value;
			var InputDownParent = document.getElementById("input-down-parent").value;
			var InputStrIp = InputStartIpClient;
			var LastStrip = InputStrIp.lastIndexOf(".");
			var StrStartIp = InputStrIp.substring(LastStrip + 1);
			var InputEndIp = InputEndIpClient;
			var LastEndIp = InputEndIp.lastIndexOf(".");
			var StrEndIp = InputEndIp.substring(LastEndIp  + 1);
			var FullIp = InputStartIpClient.substring(0, InputStartIpClient.lastIndexOf('.'));
			var TxtUpInput = InputUpParent;
			var FindCarUp = TxtUpInput.match(/[a-zA-Z]/);
			var FindNumUp = TxtUpInput.replace(/[^0-9]/g, '');		
			var TxtDownInput = InputDownParent;
			var FindCarDown = TxtDownInput.match(/[a-zA-Z]/);
			var FindNumDown = TxtDownInput.replace(/[^0-9]/g, '');
			var MbToKbUp = (1024 * FindNumUp);
			var MbToKbDown = (1024 * FindNumDown);
			var ResultMbToKbUp = (MbToKbUp / (StrEndIp - StrStartIp) );
			var ResultMbToKbDown = (MbToKbDown / (StrEndIp - StrStartIp) );
            document.getElementById('input-up-client').disabled = true;
            document.getElementById('input-down-client').disabled = true;
            document.getElementById('input-limit-up').disabled = true;
            document.getElementById('input-limit-down').disabled = true;
			document.getElementById("input-up-client").value = document.getElementById("input-up-parent").value;
			document.getElementById("input-down-client").value = document.getElementById("input-down-parent").value;
			document.getElementById("input-limit-up").value = Math.ceil(ResultMbToKbUp) + '' + 'K';
			document.getElementById("input-limit-down").value = Math.ceil(ResultMbToKbDown ) + '' + 'K';
			document.getElementById("list-output").innerHTML = "";
            } else {
            document.getElementById('input-up-client').disabled = false;
            document.getElementById('input-down-client').disabled = false;
            document.getElementById('input-limit-up').disabled =false;
            document.getElementById('input-limit-down').disabled = false;
            document.getElementById("input-up-client").value = "512K";
			document.getElementById("input-down-client").value = "1M";
			document.getElementById("input-limit-up").value = '0';
			document.getElementById("input-limit-down").value = '0';
			document.getElementById("list-output").innerHTML = "";
             }
         };
		 
		function myFunctionInput(){
			var TxtParent = "";
			var TxtClientUp = "";
			var TxtClientDown = "";
			var TxtMangleUp = "";
			var TxtMangleDown = "";
			var i;
			
			var InputParent = document.getElementById("input-parent").value;
			var InputUpSubParent = document.getElementById("input-up-sub-parent").value;
			var InputDownSubParent = document.getElementById("input-down-sub-parent").value;
			var InputUpParent = document.getElementById("input-up-parent").value;
			var InputDownParent = document.getElementById("input-down-parent").value;
			var TxtParent = 'add name="<span style="color:#ff6600;">' + InputParent + '</span>" parent="global" comment="Script Generator By BuanaNET Secure"<br> add max-limit="<span style="color:#ff6600;">' + InputDownParent.toUpperCase() +  '</span>" name="<span style="color:#ff6600;">' + InputDownSubParent + '</span>" parent="<span style="color:#ff6600;">' + InputParent + '</span>"<br>' + 'add max-limit="<span style="color:#ff6600;">' + InputUpParent.toUpperCase() +  '</span>" name="<span style="color:#ff6600;">' + InputUpSubParent + '</span>" parent="<span style="color:#ff6600;">' + InputParent + '</span>"<br>';
			
			var InputClientInitial1 = document.getElementById("input-client-initial").value;
			var InputClientInitial2 = document.getElementById("input-client-initial").value;
			var InputClientInitial3 = document.getElementById("input-client-initial").value;
			var InputClientInitial4 = document.getElementById("input-client-initial").value;
			var InputClientInitial5 = document.getElementById("input-client-initial").value;
			var InputClientInitial6 = document.getElementById("input-client-initial").value;
			
			var InputClient = document.getElementById("input-client").value;
			var InputClientInitial = document.getElementById("input-client-initial").value;
			var InputUpClient = document.getElementById("input-up-client").value;
			var InputDownClient = document.getElementById("input-down-client").value;
			var InputStartIpClient = document.getElementById("input-start-ip-client").value;
			var InputEndIpClient = document.getElementById("input-end-ip-client").value;
			var InputLimitUp = document.getElementById("input-limit-up").value;
			var InputLimitDown = document.getElementById("input-limit-down").value;

			var InputStrIp = InputStartIpClient;
			var LastStrip = InputStrIp.lastIndexOf(".");
			var StrStartIp = InputStrIp.substring(LastStrip + 1);
			var InputEndIp = InputEndIpClient;
			var LastEndIp = InputEndIp.lastIndexOf(".");
			var StrEndIp = InputEndIp.substring(LastEndIp  + 1);
			var FullIp = InputStartIpClient.substring(0, InputStartIpClient.lastIndexOf('.'));
			
			var TxtUpInput = InputUpParent;
			var FindCarUp = TxtUpInput.match(/[a-zA-Z]/);
			var FindNumUp = TxtUpInput.replace(/[^0-9]/g, '');		
			var TxtDownInput = InputDownParent;
			var FindCarDown = TxtDownInput.match(/[a-zA-Z]/);
			var FindNumDown = TxtDownInput.replace(/[^0-9]/g, '');
			var MbToKbUp = (1024 * FindNumUp);
			var MbToKbDown = (1024 * FindNumDown);
			var ResultMbToKbUp = (MbToKbUp / (StrEndIp - StrStartIp) );
			var ResultMbToKbDown = (MbToKbDown / (StrEndIp - StrStartIp) );
		 
			var MyScriptShared = document.getElementById("auto-shared");
            if ( MyScriptShared.checked ) {		 
			document.getElementById("input-up-client").value = document.getElementById("input-up-parent").value;
			document.getElementById("input-down-client").value = document.getElementById("input-down-parent").value;
			document.getElementById("input-limit-up").value = Math.ceil(ResultMbToKbUp) + '' + 'K';
			document.getElementById("input-limit-down").value = Math.ceil(ResultMbToKbDown ) + '' + 'K';
			document.getElementById("list-output").innerHTML = "";
            }
			var InputLimitUp =	document.getElementById("input-limit-up").value;
			var InputLimitDown = document.getElementById("input-limit-down").value;
			
			for (var i = parseInt(StrStartIp); i <= parseInt(StrEndIp); i++) {	  
				TxtClientUp += 'add max-limit="<span style="color:#ff6600;">' + InputUpClient.toUpperCase() + '</span>" limit-at="<span style="color:#ff6600;">' + InputLimitUp  + '</span>" packet-mark="<span style="color:#ff6600;">U-' + InputClient + (InputClientInitial1++) + '</span>" name="<span style="color:#ff6600;">Up-' + InputClient + (InputClientInitial3++) + '</span>" parent="<span style="color:#ff6600;">' + InputUpSubParent + '</span>"<br>';
				TxtClientDown += 'add max-limit="<span style="color:#ff6600;">' + InputDownClient.toUpperCase() + '</span>" limit-at="<span style="color:#ff6600;">' +  InputLimitDown + '</span>" packet-mark="<span style="color:#ff6600;">D-' + InputClient + (InputClientInitial2++) + '</span>" name="<span style="color:#ff6600;">Down-' + InputClient + (InputClientInitial4++) + '</span>" parent="<span style="color:#ff6600;">' + InputDownSubParent + '</span>"<br>';
				TxtMangleUp += 'add action=mark-packet chain=forward src-address="<span style="color:#ff6600;">' +  FullIp + '.' + i + '</span>" new-packet-mark="<span style="color:#ff6600;">U-' + InputClient + (InputClientInitial5++) + '</span>" passthrough=no comment="Upload for IP ' + FullIp + '.' + i + '"<br>';
				TxtMangleDown += 'add action=mark-packet chain=forward dst-address="<span style="color:#ff6600;">' + FullIp + '.' + i + '"</span> new-packet-mark="<span style="color:#ff6600;">D-' + InputClient + (InputClientInitial6++) + '"</span> passthrough=no comment="Download for IP ' + FullIp + '.' + i + '"<br>';
			}
			document.getElementById("list-output").innerHTML = '/queue tree<br>' + TxtParent + '' + TxtClientUp + '' + TxtClientDown  + '<br>/ip firewall mangle<br>' + TxtMangleUp + '' + TxtMangleDown;
		}
		
		 function selectElementContents(el) {
            var body = document.body, range, sel;
            if (document.createRange && window.getSelection) {
                range = document.createRange();
                sel = window.getSelection();
                sel.removeAllRanges();
                try {
                     range.selectNodeContents(el);
                     sel.addRange(range);
                         } catch (e) {
                                 range.selectNode(el);
                                 sel.addRange(range);
                         }
                         } else if (body.createTextRange) {
                             range = body.createTextRange();
                             range.moveToElementText(el);
                             range.select();
                         }
             document.execCommand("copy"); 
        }
	  </script>
	</body>
</html>

